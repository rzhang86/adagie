@(user: User, form: Form[Application.CreditCardAccountForm])

@main(user, "myProfile") {
    <div class="row-fluid col-wrap">            
        <div class="span4 col well">
            <header><h4>Add credit card credentials</h4></header>
            <form action="@routes.Application.readCreditCardAccountForm()" method="post">
                <p><input type="text" name="ofxUser" placeholder="Username" value="@form("ofxUser").value" maxlength=31></p>
                <p><input type="password" name="ofxPassword" placeholder="Password" maxlength=31></p>
                <p><input type="password" name="ofxPasswordRepeat" placeholder="Repeat password" maxlength=31></p>
                <p><button type="submit" class="btn btn-primary">Save</button></p>
            </form>
        </div>
        <div class="span8 col well">
            <h4>Your combined credit card profile:</h4>
            @defining(user.findConsumerProfile()) { consumerProfile =>
                <table class="table">
                    <thead>
                      <tr>
                        <th>Past X days</th>
                        <th>Amount spent</th>
                        <th>Purchase frequency</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>7</td>
                        <td>@Application.centsToDollars(consumerProfile.getA7())</td>
                        <td>@consumerProfile.getF7()</td>
                      </tr>
                      <tr>
                        <td>30</td>
                        <td>@Application.centsToDollars(consumerProfile.getA30())</td>
                        <td>@consumerProfile.getF30()</td>
                      </tr>
                      <tr>
                        <td>365</td>
                        <td>@Application.centsToDollars(consumerProfile.getA365())</td>
                        <td>@consumerProfile.getF365()</td>
                      </tr>
                    </tbody>
                </table>
            }
        </div>
    </div>
    <div class="row-fluid base col-wrap">
        <div class="span4 col-base well"></div>
        <div class="span8 col-base well"></div>
    </div>
}