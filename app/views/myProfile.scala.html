@(user: User, form: Form[Application.CreditCardAccountForm])

@main(user, "myProfile") {
    <section id="content">
        <div id="container" class="clearfix">
            <div class="item well span4">
                <header><h1>Add credit card credentials</h1></header>
                <form action="@routes.Application.readCreditCardAccountForm()" method="post">
                    <p><input type="text" class="span2" name="ofxUser" placeholder="Username" value="@form("ofxUser").value" maxlength=31></p>
                    <p><input type="password" class="span2" name="ofxPassword" placeholder="Password" maxlength=31></p>
                    <p><input type="passwordRepeat" class="span2" name="ofxPasswordRepeat" placeholder="Repeat password" maxlength=31></p>
                    <p><button type="submit" class="btn btn-primary">Save</button></p>
                </form>
            </div>
        </div>
    </section>
    
    
    <div class="jumbotron">
        <div class="container">
            <div class="span1"></div>
            <div class="well span8">
                <h2>Your combined credit card profile:</h2>
                @defining(user.findConsumerProfile()) { consumerProfile =>
                    <table class="table">
                        <thead>
                          <tr>
                            <th>Past X days</th>
                            <th>Amount spent</th>
                            <th>Purchase frequency</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td>7</td>
                            <td>@Video.centsToDollars(consumerProfile.getA7())</td>
                            <td>@consumerProfile.getF7()</td>
                          </tr>
                          <tr>
                            <td>30</td>
                            <td>@Video.centsToDollars(consumerProfile.getA30())</td>
                            <td>@consumerProfile.getF30()</td>
                          </tr>
                          <tr>
                            <td>365</td>
                            <td>@Video.centsToDollars(consumerProfile.getA365())</td>
                            <td>@consumerProfile.getF365()</td>
                          </tr>
                        </tbody>
                    </table>
                }
            </div>
            <div class="span3"></div>
        </div>
    </div>
}